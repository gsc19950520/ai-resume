<!--pages/report/report.wxml-->
<view class="report-container">

<!-- 顶部标题卡片 -->
<view class="report-header">
  <text class="report-title">AI面试评估报告</text>
</view>

<!-- 内容区域 -->
<view class="report-content" wx:if="{{reportData}}">

  <!-- 总体评价 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">📘</text>
        <text class="title-text">总体评价（{{reportData.totalScore}}分）</text>
      </view>
    </view>
    <view class="section-body">
      <rich-text class="paragraph" nodes="{{reportData.overallFeedback || '暂无总体评价'}}"></rich-text>
    </view>
  </view>

  <!-- 优势分析 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">✅</text>
        <text class="title-text">优势分析</text>
      </view>
    </view>
    <view class="section-body">
      <block wx:if="{{reportData.strengths && reportData.strengths.length > 0}}">
        <view class="list-item" wx:for="{{reportData.strengths}}" wx:key="index">
          <view class="item-bullet positive"></view>
          <rich-text class="item-text" nodes="{{item}}"></rich-text>
        </view>
      </block>
      <text class="empty-text" wx:else>暂无优势分析</text>
    </view>
  </view>

  <!-- 改进点 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon warning">⚠️</text>
        <text class="title-text">改进点</text>
      </view>
    </view>
    <view class="section-body">
      <block wx:if="{{reportData.improvements && reportData.improvements.length > 0}}">
        <view class="list-item" wx:for="{{reportData.improvements}}" wx:key="index">
          <view class="item-bullet warning"></view>
          <rich-text class="item-text" nodes="{{item}}"></rich-text>
        </view>
      </block>
      <text class="empty-text" wx:else>暂无改进点</text>
    </view>
  </view>

  <!-- 技术深度 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">🧠</text>
        <text class="title-text">技术深度评价</text>
      </view>
    </view>
    <view class="section-body">
      <rich-text class="paragraph" nodes="{{reportData.techDepthEvaluation || '暂无技术深度评价'}}"></rich-text>
    </view>
  </view>

  <!-- 逻辑表达 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">🗂</text>
        <text class="title-text">逻辑表达评价</text>
      </view>
    </view>
    <view class="section-body">
      <rich-text class="paragraph" nodes="{{reportData.logicExpressionEvaluation || '暂无逻辑表达评价'}}"></rich-text>
    </view>
  </view>

  <!-- 沟通表达 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">💬</text>
        <text class="title-text">沟通表达评价</text>
      </view>
    </view>
    <view class="section-body">
      <rich-text class="paragraph" nodes="{{reportData.communicationEvaluation || '暂无沟通表达评价'}}"></rich-text>
    </view>
  </view>

  <!-- 回答深度 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">🔎</text>
        <text class="title-text">回答深度评价</text>
      </view>
    </view>
    <view class="section-body">
      <rich-text class="paragraph" nodes="{{reportData.answerDepthEvaluation || '暂无回答深度评价'}}"></rich-text>
    </view>
  </view>

  <!-- 详细建议 -->
  <view class="section">
    <view class="section-title">
      <view class="title-left">
        <text class="title-icon">📝</text>
        <text class="title-text">详细改进建议</text>
      </view>
    </view>
    <view class="section-body">
      <rich-text class="paragraph" nodes="{{reportData.detailedImprovementSuggestions || '暂无详细建议'}}"></rich-text>
    </view>
  </view>

</view>

<!-- 加载中 -->
<view class="loading-container" wx:else>
  <view class="loading-spinner"></view>
  <text class="loading-text">正在加载报告...</text>
</view>

</view>
