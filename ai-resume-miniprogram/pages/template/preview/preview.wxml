<!-- preview.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨æ“ä½œæ  - ç®€åŒ–è®¾è®¡ -->
  <view class="toolbar">
    <button class="use-btn" bindtap="useTemplate" type="primary">ä½¿ç”¨æ­¤æ¨¡æ¿</button>
  </view>

  <!-- æ¨¡æ¿é¢„è§ˆåŒºåŸŸ -->
  <view class="preview-container">
    <!-- ç®€å†é¢„è§ˆå¡ç‰‡ - ä¸¤æ å¸ƒå±€ -->
    <view class="resume-card {{template.styleClass || 'template-professional'}}">
      <!-- æ¨¡æ¿è§†è§‰æ ‡è¯† -->
      <view class="template-marker" style="background-color: {{template.accentColor}};"></view>
      
      <!-- åŠ¨æ€å¸ƒå±€å®¹å™¨ -->
      
      <!-- å¢å¼ºç‰ˆä¸¤æ å¸ƒå±€ï¼šç®€çº¦ä¸“ä¸šæ¨¡æ¿ -->
      <view class="resume-layout enhanced-two-column" wx:if="{{template.layout.type === 'enhancedTwoColumn'}}">
        <!-- å·¦ä¾§ä¸ªäººä¿¡æ¯å’Œè¡¥å……å†…å®¹ -->
        <view class="left-column" style="width: {{template.layout.columnRatio.left * 100}}%">
          <view class="personal-info" wx:if="{{template.sections.personalInfo}}">
            <text class="name">{{previewData.personalInfo.name}}</text>
            <text class="job-title">{{previewData.personalInfo.jobTitle}}</text>
            <view class="contact-info">
              <view class="contact-item">
                <text class="contact-icon">ğŸ“±</text>
                <text class="contact-text">{{previewData.personalInfo.phone}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">âœ‰ï¸</text>
                <text class="contact-text">{{previewData.personalInfo.email}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">ğŸ“</text>
                <text class="contact-text">{{previewData.personalInfo.address}}</text>
              </view>
            </view>
            <text class="summary" wx:if="{{previewData.personalInfo.summary}}">{{previewData.personalInfo.summary}}</text>
          </view>
          
          <!-- ä¸“ä¸šæŠ€èƒ½ -->
          <view class="content-section" wx:if="{{template.sections.skills}}">
            <view class="section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
            <view class="section-content">
              <view class="skills-container vertical-skills">
                <view class="skill-tag" wx:for="{{previewData.skills}}" wx:key="index" style="color: {{template.accentColor}};">
                  <text class="skill-dot">â€¢</text>
                  {{item}}
                </view>
              </view>
            </view>
          </view>
          
          <!-- è¯ä¹¦è®¤è¯ -->
          <view class="content-section" wx:if="{{template.sections.certifications}}">
            <view class="section-title" style="color: {{template.accentColor}};">è¯ä¹¦è®¤è¯</view>
            <view class="section-content">
              <view class="certification-item" wx:for="{{previewData.certifications}}" wx:key="index">
                <text class="cert-name">{{item.name}}</text>
                <text class="cert-date">{{item.date}}</text>
              </view>
            </view>
          </view>
          
          <!-- è¯­è¨€èƒ½åŠ› -->
          <view class="content-section" wx:if="{{template.sections.languages}}">
            <view class="section-title" style="color: {{template.accentColor}};">è¯­è¨€èƒ½åŠ›</view>
            <view class="section-content">
              <view class="language-item" wx:for="{{previewData.languages}}" wx:key="index">
                <text class="language-name">{{item.name}}</text>
                <text class="language-level">{{item.proficiency}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- å³ä¾§ä¸»è¦å†…å®¹ -->
        <view class="right-column" style="width: {{template.layout.columnRatio.right * 100}}%">
          <!-- æ•™è‚²ç»å† -->
          <view class="content-section" wx:if="{{template.sections.education}}">
            <view class="section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
            <view class="section-content">
              <view class="education-item" wx:for="{{previewData.education}}" wx:key="index">
                <view class="education-header work-item-header">
                  <text class="school">{{item.school}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <view class="education-detail">
                  <text class="major">{{item.major}} | {{item.degree}}</text>
                </view>
                <text class="achievements" wx:if="{{item.achievements}}">{{item.achievements}}</text>
              </view>
            </view>
          </view>

          <!-- å·¥ä½œç»å† -->
          <view class="content-section" wx:if="{{template.sections.workExperience}}">
            <view class="section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
            <view class="section-content">
              <view class="work-item" wx:for="{{previewData.workExperience}}" wx:key="index">
                <view class="work-header work-item-header">
                  <text class="company">{{item.company}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <text class="position">{{item.position}}</text>
                <text class="description">{{item.description}}</text>
              </view>
            </view>
          </view>

          <!-- è‡ªæˆ‘è¯„ä»· -->
          <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
            <view class="section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
            <view class="section-content">
              <view class="self-evaluation">
                <text class="eval-content">{{previewData.selfEvaluation}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>
      
      <!-- æŠ€èƒ½èšç„¦ä¸‰æ å¸ƒå±€ï¼šæŠ€æœ¯äººæ‰æ¨¡æ¿ -->
      <view class="resume-layout skills-focus-three-column" wx:if="{{template.layout.type === 'skillsFocusThreeColumn'}}">
        <!-- é¡¶éƒ¨ä¸ªäººä¿¡æ¯ -->
        <view class="top-section" style="height: {{template.layout.columnRatio.top * 100}}%">
          <view class="personal-info hero-personal-info">
            <text class="name">{{previewData.personalInfo.name}}</text>
            <text class="job-title">{{previewData.personalInfo.jobTitle}}</text>
            <view class="contact-info horizontal-contact">
              <view class="contact-item">
                <text class="contact-icon">ğŸ“±</text>
                <text class="contact-text">{{previewData.personalInfo.phone}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">âœ‰ï¸</text>
                <text class="contact-text">{{previewData.personalInfo.email}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">ğŸ“</text>
                <text class="contact-text">{{previewData.personalInfo.address}}</text>
              </view>
            </view>
            <text class="summary" wx:if="{{previewData.personalInfo.summary}}">{{previewData.personalInfo.summary}}</text>
          </view>
        </view>
        
        <!-- åº•éƒ¨ä¸‰æ å¸ƒå±€ -->
        <view class="bottom-three-column">
          <!-- å·¦ä¾§æ•™è‚²ç»å† -->
          <view class="left-column" style="width: {{template.layout.columnRatio.left * 100}}%">
            <!-- æ•™è‚²ç»å† -->
            <view class="content-section" wx:if="{{template.sections.education}}">
              <view class="section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
              <view class="section-content">
                <view class="education-item" wx:for="{{previewData.education}}" wx:key="index">
                  <text class="school">{{item.school}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  <text class="major">{{item.major}} | {{item.degree}}</text>
                  <text class="achievements" wx:if="{{item.achievements}}">{{item.achievements}}</text>
                </view>
              </view>
            </view>
            
            <!-- è‡ªæˆ‘è¯„ä»· -->
            <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
              <view class="section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
              <view class="section-content">
                <view class="self-evaluation">
                  <text class="eval-content">{{previewData.selfEvaluation}}</text>
                </view>
              </view>
            </view>
          </view>
          
          <!-- ä¸­é—´æŠ€èƒ½å’ŒæŠ€æœ¯æ ˆ -->
          <view class="center-column" style="width: {{template.layout.columnRatio.center * 100}}%">
            <!-- ä¸“ä¸šæŠ€èƒ½ -->
            <view class="content-section" wx:if="{{template.sections.skills}}">
              <view class="section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
              <view class="section-content">
                <view class="skills-grid">
                  <view class="skill-item" wx:for="{{previewData.skills}}" wx:key="index">
                    <text class="skill-name">{{item}}</text>
                  </view>
                </view>
              </view>
            </view>
            
            <!-- æŠ€æœ¯æ ˆ -->
            <view class="content-section" wx:if="{{template.sections.technicalStack}}">
              <view class="section-title" style="color: {{template.accentColor}};">æŠ€æœ¯æ ˆ</view>
              <view class="section-content">
                <view class="tech-stack-item" wx:for="{{previewData.technicalStack}}" wx:key="index">
                  <text class="tech-category">{{item.category}}</text>
                  <text class="tech-skills">{{item.skills}}</text>
                </view>
              </view>
            </view>
          </view>
          
          <!-- å³ä¾§æˆå°± -->
          <view class="right-column" style="width: {{template.layout.columnRatio.right * 100}}%">
            <!-- æˆå°± -->
            <view class="content-section" wx:if="{{template.sections.achievements}}">
              <view class="section-title" style="color: {{template.accentColor}};">æˆå°±äº®ç‚¹</view>
              <view class="section-content">
                <view class="achievement-item" wx:for="{{previewData.achievements}}" wx:key="index">
                  <text class="achievement-number">{{index + 1}}</text>
                  <text class="achievement-text">{{item}}</text>
                </view>
              </view>
            </view>
            
            <!-- è¯ä¹¦è®¤è¯ -->
            <view class="content-section" wx:if="{{previewData.certifications && previewData.certifications.length > 0}}">
              <view class="section-title" style="color: {{template.accentColor}};">è¯ä¹¦è®¤è¯</view>
              <view class="section-content">
                <view class="certification-item" wx:for="{{previewData.certifications}}" wx:key="index">
                  <text class="cert-name">{{item.name}}</text>
                  <text class="cert-date">{{item.date}}</text>
                </view>
              </view>
            </view>
          </view>
        </view>
        
        <!-- å…¨å®½å·¥ä½œç»å† -->
        <view class="full-width-section" wx:if="{{template.sections.workExperience}}">
          <view class="section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
          <view class="section-content">
            <view class="work-item expanded" wx:for="{{previewData.workExperience}}" wx:key="index">
              <view class="work-header">
                <text class="company">{{item.company}}</text>
                <text class="date">{{item.startDate}} - {{item.endDate}}</text>
              </view>
              <text class="position">{{item.position}}</text>
              <text class="description">{{item.description}}</text>
            </view>
          </view>
        </view>
      </view>
      
      <!-- å‚ç›´åˆ†å±‚åˆ›æ„å¸ƒå±€ï¼šåˆ›æ„è®¾è®¡æ¨¡æ¿ -->
      <view class="resume-layout vertical-layers-creative" wx:if="{{template.layout.type === 'verticalLayersCreative'}}">
        <!-- è‹±é›„åŒºä¸ªäººä¿¡æ¯ -->
        <view class="hero-section" style="height: {{template.layout.columnRatio.hero * 100}}%">
          <view class="personal-info creative-personal-info">
            <text class="name large-name">{{previewData.personalInfo.name}}</text>
            <text class="job-title creative-title">{{previewData.personalInfo.jobTitle}}</text>
            <text class="summary creative-summary" wx:if="{{previewData.personalInfo.summary}}">{{previewData.personalInfo.summary}}</text>
            <view class="contact-info creative-contact">
              <view class="contact-item">
                <text class="contact-icon">ğŸ“±</text>
                <text class="contact-text">{{previewData.personalInfo.phone}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">âœ‰ï¸</text>
                <text class="contact-text">{{previewData.personalInfo.email}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- åº•éƒ¨å†…å®¹åŒºåŸŸ -->
        <view class="creative-bottom-layout">
          <!-- å·¦ä¾§è¾¹æ  -->
          <view class="sidebar" style="width: {{template.layout.columnRatio.sidebar * 100}}%">
            <!-- ä¸“ä¸šæŠ€èƒ½ -->
            <view class="content-section" wx:if="{{template.sections.skills}}">
              <view class="section-title creative-section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
              <view class="section-content">
                <view class="skills-container">
                  <view class="skill-badge" wx:for="{{previewData.skills}}" wx:key="index">
                    {{item}}
                  </view>
                </view>
              </view>
            </view>
            
            <!-- åˆ›æ„æ–¹æ³• -->
            <view class="content-section" wx:if="{{template.sections.creativeApproach}}">
              <view class="section-title creative-section-title" style="color: {{template.accentColor}};">åˆ›æ„æ–¹æ³•</view>
              <view class="section-content">
                <view class="approach-item" wx:for="{{previewData.creativeApproach}}" wx:key="index">
                  <text class="approach-text">{{item}}</text>
                </view>
              </view>
            </view>
            
            <!-- å…´è¶£çˆ±å¥½ -->
            <view class="content-section" wx:if="{{template.sections.interests}}">
              <view class="section-title creative-section-title" style="color: {{template.accentColor}};">å…´è¶£çˆ±å¥½</view>
              <view class="section-content">
                <view class="interests-container">
                  <view class="interest-tag" wx:for="{{previewData.interests}}" wx:key="index">
                    {{item}}
                  </view>
                </view>
              </view>
            </view>
          </view>
          
          <!-- å³ä¾§ä¸»è¦å†…å®¹ -->
          <view class="main-content" style="width: {{template.layout.columnRatio.main * 100}}%">
            <!-- å·¥ä½œç»å† -->
            <view class="content-section" wx:if="{{template.sections.workExperience}}">
              <view class="section-title creative-section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
              <view class="section-content">
                <view class="work-item creative-work" wx:for="{{previewData.workExperience}}" wx:key="index">
                  <div class="work-timeline"></div>
                  <view class="work-details">
                    <view class="work-header">
                      <text class="company">{{item.company}}</text>
                      <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                    </view>
                    <text class="position">{{item.position}}</text>
                    <text class="description">{{item.description}}</text>
                  </view>
                </view>
              </view>
            </view>
            
            <!-- æ•™è‚²ç»å† -->
            <view class="content-section" wx:if="{{template.sections.education}}">
              <view class="section-title creative-section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
              <view class="section-content">
                <view class="education-item creative-education" wx:for="{{previewData.education}}" wx:key="index">
                  <div class="education-timeline"></div>
                  <view class="education-details">
                    <text class="school">{{item.school}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                    <text class="major">{{item.major}} | {{item.degree}}</text>
                    <text class="achievements" wx:if="{{item.achievements}}">{{item.achievements}}</text>
                  </view>
                </view>
              </view>
            </view>
            
            <!-- è‡ªæˆ‘è¯„ä»· -->
            <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
              <view class="section-title creative-section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
              <view class="section-content">
                <view class="self-evaluation creative-evaluation">
                  <text class="eval-content">{{previewData.selfEvaluation}}</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
      
      <!-- å­¦æœ¯ç½‘æ ¼å¸ƒå±€ï¼šå­¦æœ¯ç ”ç©¶æ¨¡æ¿ -->
      <view class="resume-layout academic-grid" wx:if="{{template.layout.type === 'academicGrid'}}">
        <!-- é¡¶éƒ¨ä¸ªäººä¿¡æ¯ -->
        <view class="header-section" style="height: {{template.layout.columnRatio.header * 100}}%">
          <view class="personal-info academic-personal-info">
            <text class="name academic-name">{{previewData.personalInfo.name}}</text>
            <text class="job-title academic-title">{{previewData.personalInfo.jobTitle}}</text>
            <view class="contact-info academic-contact">
              <view class="contact-item" wx:for="{{[1, 2, 3]}}" wx:key="index">
                <text class="contact-icon">{{index === 0 ? 'ğŸ“±' : index === 1 ? 'âœ‰ï¸' : 'ğŸ“'}}</text>
                <text class="contact-text">{{index === 0 ? previewData.personalInfo.phone : index === 1 ? previewData.personalInfo.email : previewData.personalInfo.address}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- åº•éƒ¨ä¸¤æ å¸ƒå±€ -->
        <view class="academic-bottom-layout">
          <!-- å·¦ä¾§å­¦æœ¯ç›¸å…³ -->
          <view class="left-column" style="width: {{template.layout.columnRatio.left * 100}}%">
            <!-- æ•™è‚²ç»å† -->
            <view class="content-section" wx:if="{{template.sections.education}}">
              <view class="section-title academic-section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
              <view class="section-content">
                <view class="education-item academic-education" wx:for="{{previewData.education}}" wx:key="index">
                  <view class="education-header">
                    <text class="school">{{item.school}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <view class="education-detail">
                    <text class="major">{{item.major}}</text>
                    <text class="degree">{{item.degree}}</text>
                  </view>
                  <text class="achievements" wx:if="{{item.achievements}}">{{item.achievements}}</text>
                </view>
              </view>
            </view>
            
            <!-- ç ”ç©¶å…´è¶£ -->
            <view class="content-section" wx:if="{{template.sections.researchInterests}}">
              <view class="section-title academic-section-title" style="color: {{template.accentColor}};">ç ”ç©¶å…´è¶£</view>
              <view class="section-content">
                <view class="research-interest-item" wx:for="{{previewData.researchInterests}}" wx:key="index">
                  <text class="interest-number">{{index + 1}}</text>
                  <text class="interest-text">{{item}}</text>
                </view>
              </view>
            </view>
            
            <!-- å‘è¡¨è®ºæ–‡ -->
            <view class="content-section" wx:if="{{template.sections.publications}}">
              <view class="section-title academic-section-title" style="color: {{template.accentColor}};">å‘è¡¨è®ºæ–‡</view>
              <view class="section-content">
                <view class="publication-item" wx:for="{{previewData.publications}}" wx:key="index">
                  <text class="publication-title">{{item.title}}</text>
                  <text class="publication-authors">{{item.authors}}</text>
                  <text class="publication-source">{{item.journal || item.conference}} | {{item.year}}</text>
                </view>
              </view>
            </view>
          </view>
          
          <!-- å³ä¾§èŒä¸šç›¸å…³ -->
          <view class="right-column" style="width: {{template.layout.columnRatio.right * 100}}%">
            <!-- å·¥ä½œç»å† -->
            <view class="content-section" wx:if="{{template.sections.workExperience}}">
              <view class="section-title academic-section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
              <view class="section-content">
                <view class="work-item academic-work" wx:for="{{previewData.workExperience}}" wx:key="index">
                  <view class="work-header">
                    <text class="company">{{item.company}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <text class="position">{{item.position}}</text>
                  <text class="description">{{item.description}}</text>
                </view>
              </view>
            </view>
            
            <!-- ä¸“ä¸šæŠ€èƒ½ -->
            <view class="content-section" wx:if="{{template.sections.skills}}">
              <view class="section-title academic-section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
              <view class="section-content">
                <view class="skills-container academic-skills">
                  <view class="skill-tag" wx:for="{{previewData.skills}}" wx:key="index">
                    {{item}}
                  </view>
                </view>
              </view>
            </view>
            
            <!-- è‡ªæˆ‘è¯„ä»· -->
            <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
              <view class="section-title academic-section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
              <view class="section-content">
                <view class="self-evaluation academic-evaluation">
                  <text class="eval-content">{{previewData.selfEvaluation}}</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
      
      <!-- ä¿ç•™åŸæœ‰å¸ƒå±€ä½œä¸ºå…¼å®¹ -->
      <view class="resume-layout two-column-standard" wx:if="{{template.layout.type === 'twoColumnStandard' || !template.layout.type}}">
        <!-- å·¦ä¾§æ  -->
        <view class="left-column" style="width: {{template.layout.columnRatio.left * 100}}%">
          <view class="personal-info" wx:if="{{template.sections.personalInfo}}">
            <text class="name">{{previewData.personalInfo.name}}</text>
            <text class="job-title">{{previewData.personalInfo.jobTitle}}</text>
              <view class="contact-info">
              <view class="contact-item">
                <text class="contact-icon">ğŸ“±</text>
                <text class="contact-text">{{previewData.personalInfo.phone}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">âœ‰ï¸</text>
                <text class="contact-text">{{previewData.personalInfo.email}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">ğŸ“</text>
                <text class="contact-text">{{previewData.personalInfo.address}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- å³ä¾§æ  -->
        <view class="right-column" style="width: {{template.layout.columnRatio.right * 100}}%">
          <!-- æ•™è‚²ç»å† -->
          <view class="content-section" wx:if="{{template.sections.education}}">
            <view class="section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
            <view class="section-content">
              <view class="education-item" wx:for="{{previewData.education}}" wx:key="index">
                <view class="education-header work-item-header">
                  <text class="school">{{item.school}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <view class="education-detail">
                  <text class="major">{{item.major}}</text>
                  <text class="degree">{{item.degree}}</text>
                </view>
              </view>
            </view>
          </view>

          <!-- å·¥ä½œç»å† -->
          <view class="content-section" wx:if="{{template.sections.workExperience}}">
            <view class="section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
            <view class="section-content">
              <view class="work-item" wx:for="{{previewData.workExperience}}" wx:key="index">
                <view class="work-header work-item-header">
                  <text class="company">{{item.company}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <text class="position">{{item.position}}</text>
                <text class="description">{{item.description}}</text>
              </view>
            </view>
          </view>

          <!-- é¡¹ç›®ç»éªŒ -->
          <view class="content-section" wx:if="{{template.sections.projects}}">
            <view class="section-title" style="color: {{template.accentColor}};">é¡¹ç›®ç»éªŒ</view>
            <view class="section-content">
              <view class="project-item" wx:for="{{previewData.projects}}" wx:key="index">
                <view class="project-header work-item-header">
                  <text class="project-name">{{item.name}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <text class="role">{{item.role}}</text>
                <text class="description">{{item.description}}</text>
              </view>
            </view>
          </view>

          <!-- ä¸“ä¸šæŠ€èƒ½ -->
          <view class="content-section" wx:if="{{template.sections.skills}}">
            <view class="section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
            <view class="section-content">
              <view class="skills-container">
                <view class="skill-tag" wx:for="{{previewData.skills}}" wx:key="index" style="color: {{template.accentColor}};">
                  <text class="skill-dot">â€¢</text>
                  {{item}}
                </view>
              </view>
            </view>
          </view>

          <!-- è‡ªæˆ‘è¯„ä»· -->
          <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
            <view class="section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
            <view class="section-content">
              <view class="self-evaluation">
                <text class="eval-content">{{previewData.selfEvaluation}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- æŠ€èƒ½ä¾§è¾¹æ å¸ƒå±€ï¼šé¡¶éƒ¨ä¸ªäººä¿¡æ¯ï¼Œå·¦ä¾§æŠ€èƒ½ï¼Œå³ä¾§ä¸»è¦å†…å®¹ -->
      <view class="resume-layout skills-sidebar" wx:if="{{template.layout.type === 'skillsSidebar'}}">
        <!-- é¡¶éƒ¨ä¸ªäººä¿¡æ¯ -->
        <view class="top-section" wx:if="{{template.sections.personalInfo}}">
          <view class="personal-info top-personal-info">
            <text class="name">{{previewData.personalInfo.name}}</text>
            <text class="position">{{previewData.personalInfo.jobTitle}}</text>
            <view class="contact-info">
              <view class="contact-item" wx:for="{{[1, 2, 3]}}" wx:key="index">
                <text class="contact-icon">{{index === 0 ? 'ğŸ“±' : index === 1 ? 'âœ‰ï¸' : 'ğŸ“'}}</text>
                <text class="contact-text">{{index === 0 ? previewData.personalInfo.phone : index === 1 ? previewData.personalInfo.email : previewData.personalInfo.address}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- åº•éƒ¨ä¸¤æ  -->
        <view class="bottom-layout">
          <!-- å·¦ä¾§æŠ€èƒ½æ  -->
          <view class="skills-column" style="width: {{template.layout.columnRatio.left * 100}}%" wx:if="{{template.sections.skills}}">
            <view class="content-section">
              <view class="section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
              <view class="section-content">
                <view class="skills-container vertical-skills">
                  <view class="skill-tag" wx:for="{{previewData.skills}}" wx:key="index" style="color: {{template.accentColor}};">
                    <text class="skill-dot">â€¢</text>
                    {{item}}
                  </view>
                </view>
              </view>
            </view>
          </view>
          
          <!-- å³ä¾§ä¸»è¦å†…å®¹ -->
          <view class="main-column" style="width: {{template.layout.columnRatio.right * 100}}%">
            <!-- æ•™è‚²ç»å† -->
            <view class="content-section" wx:if="{{template.sections.education}}">
              <view class="section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
              <view class="section-content">
                <view class="education-item" wx:for="{{previewData.education}}" wx:key="index">
                  <view class="education-header work-item-header">
                    <text class="school">{{item.school}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <view class="education-detail">
                    <text class="major">{{item.major}}</text>
                    <text class="degree">{{item.degree}}</text>
                  </view>
                </view>
              </view>
            </view>

            <!-- å·¥ä½œç»å† -->
            <view class="content-section" wx:if="{{template.sections.workExperience}}">
              <view class="section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
              <view class="section-content">
                <view class="work-item" wx:for="{{previewData.workExperience}}" wx:key="index">
                  <view class="work-header work-item-header">
                    <text class="company">{{item.company}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <text class="position">{{item.position}}</text>
                  <text class="description">{{item.description}}</text>
                </view>
              </view>
            </view>

            <!-- é¡¹ç›®ç»éªŒ -->
            <view class="content-section" wx:if="{{template.sections.projects}}">
              <view class="section-title" style="color: {{template.accentColor}};">é¡¹ç›®ç»éªŒ</view>
              <view class="section-content">
                <view class="project-item" wx:for="{{previewData.projects}}" wx:key="index">
                  <view class="project-header work-item-header">
                    <text class="project-name">{{item.name}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <text class="role">{{item.role}}</text>
                  <text class="description">{{item.description}}</text>
                </view>
              </view>
            </view>

            <!-- è‡ªæˆ‘è¯„ä»· -->
            <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
              <view class="section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
              <view class="section-content">
                <view class="self-evaluation">
                  <text class="eval-content">{{previewData.selfEvaluation}}</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- åå‘ä¸¤æ å¸ƒå±€ï¼šå·¦ä¾§ä¸»è¦å†…å®¹ï¼Œå³ä¾§ä¸ªäººä¿¡æ¯ -->
      <view class="resume-layout two-column-reversed" wx:if="{{template.layout.type === 'twoColumnReversed'}}">
        <!-- å·¦ä¾§ä¸»è¦å†…å®¹ -->
        <view class="main-column" style="width: {{template.layout.columnRatio.left * 100}}%">
          <!-- æ•™è‚²ç»å† -->
          <view class="content-section" wx:if="{{template.sections.education}}">
            <view class="section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
            <view class="section-content">
              <view class="education-item" wx:for="{{previewData.education}}" wx:key="index">
                <view class="education-header work-item-header">
                  <text class="school">{{item.school}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <view class="education-detail">
                  <text class="major">{{item.major}}</text>
                  <text class="degree">{{item.degree}}</text>
                </view>
              </view>
            </view>
          </view>

          <!-- å·¥ä½œç»å† -->
          <view class="content-section" wx:if="{{template.sections.workExperience}}">
            <view class="section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
            <view class="section-content">
              <view class="work-item" wx:for="{{previewData.workExperience}}" wx:key="index">
                <view class="work-header work-item-header">
                  <text class="company">{{item.company}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <text class="position">{{item.position}}</text>
                <text class="description">{{item.description}}</text>
              </view>
            </view>
          </view>

          <!-- é¡¹ç›®ç»éªŒ -->
          <view class="content-section" wx:if="{{template.sections.projects}}">
            <view class="section-title" style="color: {{template.accentColor}};">é¡¹ç›®ç»éªŒ</view>
            <view class="section-content">
              <view class="project-item" wx:for="{{previewData.projects}}" wx:key="index">
                <view class="project-header work-item-header">
                  <text class="project-name">{{item.name}}</text>
                  <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                </view>
                <text class="role">{{item.role}}</text>
                <text class="description">{{item.description}}</text>
              </view>
            </view>
          </view>

          <!-- è‡ªæˆ‘è¯„ä»· -->
          <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
            <view class="section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
            <view class="section-content">
              <view class="self-evaluation">
                <text class="eval-content">{{previewData.selfEvaluation}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- å³ä¾§ä¸ªäººä¿¡æ¯å’ŒæŠ€èƒ½ -->
        <view class="right-column" style="width: {{template.layout.columnRatio.right * 100}}%">
          <view class="personal-info" wx:if="{{template.sections.personalInfo}}">
            <text class="name">{{previewData.personalInfo.name}}</text>
            <text class="position">{{previewData.personalInfo.jobTitle}}</text>
            <view class="contact-info">
              <view class="contact-item">
                <text class="contact-icon">ğŸ“±</text>
                <text class="contact-text">{{previewData.personalInfo.phone}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">âœ‰ï¸</text>
                <text class="contact-text">{{previewData.personalInfo.email}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">ğŸ“</text>
                <text class="contact-text">{{previewData.personalInfo.address}}</text>
              </view>
            </view>
          </view>
          
          <!-- ä¸“ä¸šæŠ€èƒ½ -->
          <view class="content-section" wx:if="{{template.sections.skills}}">
            <view class="section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
            <view class="section-content">
              <view class="skills-container vertical-skills">
                <view class="skill-tag" wx:for="{{previewData.skills}}" wx:key="index" style="color: {{template.accentColor}};">
                  <text class="skill-dot">â€¢</text>
                  {{item}}
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>

      <!-- ä¸ªäººä¿¡æ¯ç½®é¡¶å¸ƒå±€ï¼šé¡¶éƒ¨ä¸ªäººä¿¡æ¯ï¼Œåº•éƒ¨ä¸»è¦å†…å®¹ -->
      <view class="resume-layout personal-info-top" wx:if="{{template.layout.type === 'personalInfoTop'}}">
        <!-- é¡¶éƒ¨ä¸ªäººä¿¡æ¯ -->
        <view class="top-section" style="height: {{template.layout.columnRatio.top * 100}}%" wx:if="{{template.sections.personalInfo}}">
          <view class="personal-info centered-personal-info">
            <text class="name">{{previewData.personalInfo.name}}</text>
            <text class="position">{{previewData.personalInfo.jobTitle}}</text>
            <view class="contact-info horizontal-contact">
              <view class="contact-item">
                <text class="contact-icon">ğŸ“±</text>
                <text class="contact-text">{{previewData.personalInfo.phone}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">âœ‰ï¸</text>
                <text class="contact-text">{{previewData.personalInfo.email}}</text>
              </view>
              <view class="contact-item">
                <text class="contact-icon">ğŸ“</text>
                <text class="contact-text">{{previewData.personalInfo.address}}</text>
              </view>
            </view>
          </view>
        </view>
        
        <!-- åº•éƒ¨å†…å®¹åŒºåŸŸï¼ˆä¸‰æ å¸ƒå±€ï¼‰ -->
        <view class="bottom-section" style="height: {{template.layout.columnRatio.bottom * 100}}%">
          <!-- å·¦ä¾§æ•™è‚²ç»å† -->
          <view class="academic-column">
            <view class="content-section" wx:if="{{template.sections.education}}">
              <view class="section-title" style="color: {{template.accentColor}};">æ•™è‚²ç»å†</view>
              <view class="section-content">
                <view class="education-item" wx:for="{{previewData.education}}" wx:key="index">
                  <view class="education-header work-item-header">
                    <text class="school">{{item.school}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <view class="education-detail">
                    <text class="major">{{item.major}}</text>
                    <text class="degree">{{item.degree}}</text>
                  </view>
                </view>
              </view>
            </view>
          </view>
          
          <!-- ä¸­é—´å·¥ä½œå’Œé¡¹ç›® -->
          <view class="professional-column">
            <!-- å·¥ä½œç»å† -->
            <view class="content-section" wx:if="{{template.sections.workExperience}}">
              <view class="section-title" style="color: {{template.accentColor}};">å·¥ä½œç»å†</view>
              <view class="section-content">
                <view class="work-item" wx:for="{{previewData.workExperience}}" wx:key="index">
                  <view class="work-header work-item-header">
                    <text class="company">{{item.company}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <text class="position">{{item.position}}</text>
                  <text class="description">{{item.description}}</text>
                </view>
              </view>
            </view>

            <!-- é¡¹ç›®ç»éªŒ -->
            <view class="content-section" wx:if="{{template.sections.projects}}">
              <view class="section-title" style="color: {{template.accentColor}};">é¡¹ç›®ç»éªŒ</view>
              <view class="section-content">
                <view class="project-item" wx:for="{{previewData.projects}}" wx:key="index">
                  <view class="project-header work-item-header">
                    <text class="project-name">{{item.name}}</text>
                    <text class="date">{{item.startDate}} - {{item.endDate}}</text>
                  </view>
                  <text class="role">{{item.role}}</text>
                  <text class="description">{{item.description}}</text>
                </view>
              </view>
            </view>
          </view>
          
          <!-- å³ä¾§æŠ€èƒ½å’Œè‡ªæˆ‘è¯„ä»· -->
          <view class="skills-column">
            <!-- ä¸“ä¸šæŠ€èƒ½ -->
            <view class="content-section" wx:if="{{template.sections.skills}}">
              <view class="section-title" style="color: {{template.accentColor}};">ä¸“ä¸šæŠ€èƒ½</view>
              <view class="section-content">
                <view class="skills-container vertical-skills">
                  <view class="skill-tag" wx:for="{{previewData.skills}}" wx:key="index" style="color: {{template.accentColor}};">
                    <text class="skill-dot">â€¢</text>
                    {{item}}
                  </view>
                </view>
              </view>
            </view>

            <!-- è‡ªæˆ‘è¯„ä»· -->
            <view class="content-section" wx:if="{{template.sections.selfEvaluation}}">
              <view class="section-title" style="color: {{template.accentColor}};">è‡ªæˆ‘è¯„ä»·</view>
              <view class="section-content">
                <view class="self-evaluation">
                  <text class="eval-content">{{previewData.selfEvaluation}}</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
      
      <!-- é¡µè„šè£…é¥°å…ƒç´  -->
      <view class="resume-footer">
        <view class="footer-divider" style="background-color: {{template.accentColor}};"></view>
        <view class="footer-note">
          <text>ç®€å†æ¨¡æ¿é¢„è§ˆ</text>
        </view>
      </view>
    </view>
  </view>
</view>