<template name="template-one">
  <view class="template-one-container">

    <!-- 左侧：教育 / 工作 / 项目 / 自我评价 -->
    <view class="left-panel-swapped">
      <!-- 教育经历 -->
      <view class="section">
        <view class="section-title">教育经历</view>
        <block wx:for="{{resumeData.education || resumeData.educationList}}" wx:key="index">
          <view class="job">
            <view class="job-header">
              <view class="job-company">{{item.school || item.schoolName || '学校名称'}}</view>
              <view class="job-position">{{item.degree || '学位'}}</view>
              <view class="job-period">{{item.startDate || item.startTime || ''}}{{item.startDate && item.endDate ? ' - ' : ''}}{{item.endDate || item.endTime || ''}}</view>
            </view>
            <view class="job-desc">{{item.major || item.description || ''}}</view>
          </view>
        </block>
      </view>

      <!-- 工作经历 -->
      <view class="section">
        <view class="section-title">工作经历</view>
        <block wx:for="{{resumeData.workExperience || resumeData.workExperienceList}}" wx:key="index">
          <view class="job">
            <view class="job-header">
              <view class="job-company">{{item.company || item.companyName || '公司名称'}}</view>
              <view class="job-position">{{item.position || item.jobTitle || '职位名称'}}</view>
              <view class="job-period">{{item.startDate || item.startTime || ''}}{{item.startDate && item.endDate ? ' - ' : ''}}{{item.endDate || item.endTime || ''}}</view>
            </view>
            <view class="job-desc">
              {{item.description || item.workContent || '工作描述'}}
            </view>
          </view>
        </block>
      </view>

      <!-- 兴趣爱好 -->
      <view class="section">
        <view class="section-title">兴趣爱好</view>
        <view class="job-desc">
          {{resumeData.personalInfo.interests || resumeData.selfEvaluation || '暂无兴趣爱好信息'}}
        </view>
      </view>
      
      <!-- 自我评价 -->
      <view class="section">
        <view class="section-title">自我评价</view>
        <view class="job-desc">
          {{resumeData.personalInfo.selfEvaluation || resumeData.selfEvaluation || '无'}}
        </view>
      </view>
    </view>

    <!-- 右侧：头像 + 联系方式 + 技能 -->
    <view class="right-panel-swapped">
      <view class="avatar-container">
        <image class="avatar" src="{{resumeData.personalInfo.avatar || resumeData.avatar || '/images/avatar.jpg'}}" mode="cover" />
        <view class="name">{{userInfo.name || resumeData.name || '姓名'}}</view>
        <view class="title">{{resumeData.personalInfo.jobTitle || resumeData.personalInfo.position || resumeData.title || '职位'}}</view>
      </view>

      <!-- 联系方式 -->
      <view class="contact-section">
        <view class="section-title">个人信息</view>
        <view wx:if="{{userInfo.phone || resumeData.personalInfo.phone || resumeData.contact.phone}}" class="contact-item"><text class="contact-label">电话：</text><text class="contact-value">{{userInfo.phone || resumeData.personalInfo.phone || resumeData.contact.phone}}</text></view>
        <view wx:if="{{userInfo.email || resumeData.personalInfo.email || resumeData.contact.email}}" class="contact-item"><text class="contact-label">邮箱：</text><text class="contact-value">{{userInfo.email || resumeData.personalInfo.email || resumeData.contact.email}}</text></view>
        <view wx:if="{{userInfo.address || resumeData.personalInfo.address || resumeData.contact.address}}" class="contact-item"><text class="contact-label">地址：</text><text class="contact-value">{{userInfo.address || resumeData.personalInfo.address || resumeData.contact.address}}</text></view>
        <view wx:if="{{userInfo.birthDate || resumeData.personalInfo.birthDate || resumeData.birth}}" class="contact-item"><text class="contact-label">出生日期：</text><text class="contact-value">{{userInfo.birthDate || resumeData.personalInfo.birthDate || resumeData.birth}}</text></view>
        <view wx:if="{{resumeData.personalInfo.expectedSalary || resumeData.salary}}" class="contact-item"><text class="contact-label">期望薪资：</text><text class="contact-value">{{resumeData.personalInfo.expectedSalary || resumeData.salary}}</text></view>
        <view wx:if="{{resumeData.personalInfo.startTime || resumeData.entryTime}}" class="contact-item"><text class="contact-label">入职时间：</text><text class="contact-value">{{resumeData.personalInfo.startTime || resumeData.entryTime}}</text></view>
      </view>

      <!-- 技能进度条 -->
      <view class="skills-section">
        <view class="section-title">专业技能</view>
        <block wx:for="{{resumeData.skillsWithLevel || resumeData.skills}}" wx:key="index">
          <view wx:if="{{item.name || item}}" class="skill-item">
            <view class="skill-name">{{item.name || item}}</view>
            <view class="skill-bar"><view class="skill-fill" style="width:{{item.level * 20}}%;"></view></view>
          </view>
        </block>
      </view>
    </view>
  </view>
</template>
