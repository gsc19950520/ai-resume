<!--detail.wxml-->
<view class="detail-container">
  
  <!-- 加载状态提示 -->
  <view wx:if="{{isLoading}}" class="loading-overlay">
    <view class="loading-content">
      <view class="loading-spinner"></view>
      <text class="loading-text">{{loadingMessage || '加载中...'}}</text>
    </view>
  </view>
  
  <!-- 头像上传区域 -->
  <view class="avatar-section">
    <view class="avatar-upload">
      <image src="{{userInfo.avatarUrl || '/images/avatar.jpg'}}" mode="aspectFill"></image>
      <view class="avatar-mask">
        <text>点击更换</text>
      </view>
    </view>
  </view>
  
  <!-- 表单区域 -->
  <view class="form-section">
    <view class="form-item">
      <view class="label">姓名</view>
      <input class="input" value="{{userInfo.name || ''}}" bindinput="onNameInput" placeholder="请输入姓名"/>
    </view>
    
    <view class="form-item">
      <view class="label">性别</view>
      <picker class="picker" bindchange="onGenderChange" value="{{genderIndex}}" range="['男', '女']">
        <view class="picker-text">{{genderIndex === 0 ? '男' : '女'}}</view>
      </picker>
    </view>
    
    <view class="form-item">
      <view class="label">手机号</view>
      <input class="input" value="{{userInfo.phone || ''}}" bindinput="onPhoneInput" placeholder="请输入手机号" type="number" maxlength="11"/>
    </view>
    
    <view class="form-item">
      <view class="label">邮箱</view>
      <input class="input" value="{{userInfo.email || ''}}" bindinput="onEmailInput" placeholder="请输入邮箱" type="text"/>
    </view>
    
    <view class="form-item">
      <view class="label">出生日期</view>
      <picker class="picker" mode="date" value="{{userInfo.birthday || ''}}" bindchange="onBirthdayChange" start="1970-01-01" end="2005-12-31">
        <view class="picker-text">{{userInfo.birthday || '请选择出生日期'}}</view>
      </picker>
    </view>
    
    <view class="form-item">
      <view class="label">所在城市</view>
      <input class="input" value="{{userInfo.city || ''}}" bindinput="onCityInput" placeholder="请输入所在城市"/>
    </view>
    
    <view class="form-item">
      <view class="label">职业</view>
      <input class="input" value="{{userInfo.profession || ''}}" bindinput="onProfessionInput" placeholder="请输入职业"/>
    </view>
  </view>
  
  <!-- 保存按钮 -->
  <view class="btn-section">
    <button class="save-btn" bindtap="saveUserInfo">保存修改</button>
  </view>
</view>